<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/sample.css">
<title>ãƒã‚±ãƒ¢ãƒ³å›³é‘‘</title>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="js/jquery-3.5.1.min.js"></script>
</head>
<body>

  <header>
    <h1 id="h1"><div id="head_01">POKEMON</div><div id="head_02">ãƒã‚±ãƒ¢ãƒ³å›³é‘‘</div></h1>
    <p>
      <input type="text" id="keyword" value="">
      <button id="readData">SEARCH</button>
      <button id="random">RANDOM</button>
    </p>
  </header>

  <main>
    <!-- æ¤œç´¢çµæœã‚’è¡¨ç¤ºã™ã‚‹ -->
    <div id="result">
        <div id="left">
            <img id="frontImg" src="" alt="">
        </div>
        <div id="right">
            <table>
                <tr>
                    <td class="td_01">No.</td><td id="pokeNo" class="td_02"></td>
                </tr>
                <tr>
                    <td class="td_01">Name</td><td id="pokeName" class="td_02"></td>
                </tr>
                <tr>
                    <td class="td_01_">Type_01</td><td id="pokeType_01" class="td_02"></td>
                </tr>
                <tr>
                    <td class="td_01_">Type_02</td><td id="pokeType_02" class="td_02"></td>
                </tr>
            </table>
        </div>
    </div>   
    <div>
        <div id="noButton">
            <button id="no100" class="no">No.001-100</button>
            <button id="no200" class="no">No.101-200</button>
            <button id="no300" class="no">No.201-300</button>
            <button id="no400" class="no">No.301-400</button>
            <button id="no500" class="no">No.401-500</button>
            <button id="no600" class="no">No.501-600</button>
            <button id="no700" class="no">No.601-700</button>
            <button id="no800" class="no">No.701-800</button>
            <button id="no900" class="no">No.801-900</button>
            <button id="no1008" class="no">No.901-1008</button>
            <button id="all" class="no">ALL_POKE</button>
        </div>
        <div id="imgMultiple">
            <img id="" src="" alt="">
        </div>
    </div>  
  </main>

<script>
// æ‰‹é †
// 1. axios ã‚’ä½¿ã£ã¦ æƒ…å ±ã‚’å–å¾—ã™ã‚‹
// 2. JSONãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’åŸºã«æœ¬ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã™ã‚‹
// 3. æœ¬ã®ã‚¿ã‚¤ãƒˆãƒ«æƒ…å ±ã‚’HTMLã«å‡ºåŠ›ã™ã‚‹
// ---ã“ã“ã‹ã‚‰ã¯èª²é¡Œï¼
// 4. ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã§æ‹¬ã‚‹
// 5. id="keyword"ã®å…¥åŠ›å€¤ã‚’å–å¾— â†’ URLã®"?q=jquery"ã®"queryã®æ–‡å­—ã‚’å–å¾—ã—ãŸå…¥åŠ›å€¤ï¼ˆå¤‰æ•°ï¼‰ã«å¤‰ãˆã‚‹"
// 6. å‡ºç‰ˆç¤¾ã‚‚è¡¨ç¤ºã—ã¦ã¿ã‚ˆã†ï¼ï¼ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¯console.logã§ç¢ºèªï¼ï¼ï¼‰

// axios ã‚’ä½¿ã†[é–‹å§‹]

// ãƒã‚±ãƒ¢ãƒ³ã‚’æ¤œç´¢ã—ãŸã‚‰ç™ºç«ğŸ”¥
$("#readData").on('click', function() {
  let keyword = $("#keyword").val();
  console.log(keyword);
  const url = "https://pokeapi.co/api/v2/pokemon/" + keyword
  console.log(url);
  axios.get(url).then(function (res) {
    console.log(res.data);
    // ãƒã‚±ãƒ¢ãƒ³ã®ç”»åƒã‚’å‡ºåŠ›ã™ã‚‹
    const frontImg = res.data.sprites.front_default
    console.log(frontImg);
    $("#frontImg").attr("src",frontImg);
    console.log(url)
    // å›³é‘‘No.ã‚’å‡ºåŠ›ã™ã‚‹
    let pokeNo = res.data.id;
    // å›³é‘‘ãƒŠãƒ³ãƒãƒ¼ã‚’ï¼“æ¡ã«æƒãˆã‚‹
    if (pokeNo < 10) {
        pokeNo = "00" + pokeNo
    } else if (9 < pokeNo && pokeNo < 100) {
        pokeNo = "0" + pokeNo
    }
    console.log(pokeNo);
    $("#pokeNo").text(pokeNo);
    // ãƒã‚±ãƒ¢ãƒ³ã®åå‰ã‚’å‡ºåŠ›ã™ã‚‹
    const pokeName = res.data.name;
    console.log(pokeName);
    $("#pokeName").text(pokeName);
    // ãƒã‚±ãƒ¢ãƒ³ã®ã‚¿ã‚¤ãƒ—ã‚’å–å¾—ã™ã‚‹
    // const pokeType = res.data.types[0].type.name;
    let pokeType = res.data.types;
    // console.log(pokeType.type.name)
    console.log(pokeType);
    // console.log(pokeType.length);
    let typeAdd = [];
    for (let i = 0; i < pokeType.length ;i++) {
        pokeTypeCV = pokeType[i].type.name;
        console.log(pokeTypeCV);
        typeAdd.push(pokeTypeCV);
        console.log(typeAdd[i]);
        // console.log(typeAdd[1]);
        $("#pokeType_01").text(typeAdd[0]);
        if(typeAdd[1] == undefined){
            $("#pokeType_02").text("-");
        } else if(typeAdd[1] !== ""){
            $("#pokeType_02").text(typeAdd[1]);
        }
    }

  })
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã—ãŸã‚‰textã‚’ç©ºã«ã™ã‚‹ã€‚
  $("#keyword").val("");
  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã—ãŸå¾Œã¯textã‚’Focusã™ã‚‹ã€‚
  $("#keyword").focus();
})

// Enterã‚­ãƒ¼(which===13)ã‚’æŠ¼ã™ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã§ãã‚‹
// keyupã ã¨IMEç¢ºå®šæ™‚ã®Enterã§é€ä¿¡ã•ã‚Œã¦ã—ã¾ã†ãŸã‚ã€keydownã¨ã™ã‚‹
$("#keyword").on("keydown",function(event){
    // && !e.shihtKeyã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ Shiftã‚­ãƒ¼ï¼‹Enterã‚­ãƒ¼ ã®å ´åˆã¯æ”¹è¡Œ
    if (event.which === 13 && !event.shiftKey){
        $("#readData").click()
    }
});

// RANDOMæŠ¼ã—ãŸæ™‚ã®è¡¨ç¤º
$("#random").on("click",function(){
    let random = Math.floor(Math.random()*1008)+1;
    console.log(random);
    $("#keyword").val(random);
    $("#readData").click();
})

// ä»¥ä¸‹No.100å˜ä½ã§ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›
let array100 = [];
let poke100 = [];
$("#no100").on("click",function(){
    for (let i = 1 ; i < 101; i++){
        array100.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            poke100.push(frontImg);
            // console.log(poke100);
            $("#imgMultiple").append(frontImg);
        })
    }
    // ä»¥ä¸‹ãªãœã‹åå¿œã›ãš...ğŸ’€ğŸ’€ğŸ’€
    // console.log(poke100);
    // for (let j = 0; j < poke100.length; j++) {
    //     console.log(poke100[j]);
    //     $("#imgMultiple").append(poke100);
    // }
})

let array200 = [];
let poke200 = [];
$("#no200").on("click",function(){
    for (let i = 101 ; i < 201; i++){
        array200.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke200.push(frontImg);
            $("#imgMultiple").append(frontImg);
        }) 
    }
})

let array300 = [];
let poke300 = [];
$("#no300").on("click",function(){
    for (let i = 201 ; i < 301; i++){
        array300.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke300.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array400 = [];
let poke400 = [];
$("#no400").on("click",function(){
    for (let i = 301 ; i < 401; i++){
        array400.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke400.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array500 = [];
let poke500 = [];
$("#no500").on("click",function(){
    for (let i = 401 ; i < 501; i++){
        array500.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            poke500.push(frontImg);
            // console.log(poke100);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array600 = [];
let poke600 = [];
$("#no600").on("click",function(){
    for (let i = 501 ; i < 601; i++){
        array600.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke600.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array700 = [];
let poke700 = [];
$("#no700").on("click",function(){
    for (let i = 601 ; i < 701; i++){
        array700.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke700.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array800 = [];
let poke800 = [];
$("#no800").on("click",function(){
    for (let i = 701 ; i < 801; i++){
        array800.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke800.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array900 = [];
let poke900 = [];
$("#no900").on("click",function(){
    for (let i = 801 ; i < 901; i++){
        array900.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke900.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let array1008 = [];
let poke1008 = [];
$("#no1008").on("click",function(){
    for (let i = 901 ; i < 1009; i++){
        array1008.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // poke1008.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

let arrayALL = [];
let pokeALL = [];
$("#all").on("click",function(){
    for (let i = 1 ; i < 1009; i++){
        arrayALL.push(i);
        let url = "https://pokeapi.co/api/v2/pokemon/" + [i]
        console.log(url);
        axios.get(url).then(function (res) {
            // pokeAPIã®ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’è¦‹ãŸã„æ™‚ã¯ä»¥ä¸‹console.logã®ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã‚’è§£é™¤ã™ã‚‹
            // console.log(res.data);
            let frontImg = res.data.sprites.front_default
            frontImg =  `<img id="frontImg_02" src="` + frontImg;
            frontImg += `" alt="">`
            // console.log(frontImg);
            // pokeALL.push(frontImg);
            $("#imgMultiple").append(frontImg);
        })
    }
})

// axios ã‚’ä½¿ã†[çµ‚äº†]

</script>
</body>
</html>